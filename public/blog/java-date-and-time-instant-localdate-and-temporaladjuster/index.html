<!DOCTYPE html>
<html lang="en-US" class="scroll-smooth dark">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>

<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Java Date and Time: Instant, LocalDate, and TemporalAdjuster</title>
<meta
  name="description"
  content="Improvements to the Java 8 Date and Time API&ndash;in particular Instant, LocalDate/LocalDateTime, and their absolute counterpart ZonedDateTime, provide a much more intuitive and friendly way to deal with time than previous versions of Java."
/>
<link rel="canonical" href="http://localhost:1313/blog/java-date-and-time-instant-localdate-and-temporaladjuster/" />
<link rel="robots" href="/robots.txt" />

<link rel="icon" type="image/x-icon" href="/img/nficon.png" />



<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] } });</script>

<link rel="stylesheet" href="http://localhost:1313/css/app.css" /></head>

  <body class="max-w-screen-md mx-auto px-2.5">
    <div class="header">
      <header class="flex flex-col sm:flex-row items-center gap-5 sm:gap-10 pt-16 py-12">
   


<div class="flex-none w-20 h-20 rounded-full overflow-hidden">
  <a href="http://localhost:1313/">
    <img
      srcset="/img/profile-picture_hu4241499301404582006.jpg 80w"
      src="/img/profile-picture.jpg"
      width="386"
      height="345"
      alt="Nick Fisher&#39;s tech blog"
    />
  </a>
</div>

  
  <div class="flex flex-col gap-5">
    <a href="http://localhost:1313/">
  <h1 id="site-title">Nick Fisher&#39;s tech blog</h1>
</a>
 
    <nav>
  <ul>
     
    
    <li>
      <a href="/" class="">
        home
      </a>
    </li>
    
    <li>
      <a href="/blog" class="">
        blog
      </a>
    </li>
    
    <li>
      <a href="/about" class="">
        about
      </a>
    </li>
    
    <li>
      <a href="/tags" class="">
        Tags
      </a>
    </li>
    
  </ul>
</nav>

  </div>
</header>

      <button class="toggle-theme" aria-label="Toggle Theme" title="Toggle Theme" onclick="toggleTheme()">
  <span class="theme-icon light"> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z" />
</svg> </span>
  <span class="theme-icon dark"> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z" />
</svg> </span>
</button>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const theme = localStorage.getItem('theme');

    if (!theme || theme === 'light') {
      setTheme('light');
    } else {
      setTheme(theme);
    }
  });

  function setTheme(theme) {
    const html = document.querySelector('html');
    localStorage.setItem('theme', theme);

    if (theme === 'light') {
      if (html.classList.contains('dark')) {
        document.querySelector('html').classList.remove('dark');
      }

      document.querySelector('.theme-icon.light').style.display = 'none';
      document.querySelector('.theme-icon.dark').style.display = 'block';
    } else {
      if (!html.classList.contains('dark')) {
        document.querySelector('html').classList.add('dark');
      }

      document.querySelector('.theme-icon.dark').style.display = 'none';
      document.querySelector('.theme-icon.light').style.display = 'block';
    }
  }

  function toggleTheme() {
    const theme = localStorage.getItem('theme');

    if (theme === 'light') {
      setTheme('dark');
    } else {
      setTheme('light');
    }
  }
</script>
    </div>
  
    <main id="content">

<article class="flex flex-col gap-10">
  <header class="flex flex-col gap-2">
    <h2 class="title-large">Java Date and Time: Instant, LocalDate, and TemporalAdjuster</h2>

    <div class="meta">
      
      <time datetime="2018-12-01 12:56:02 &#43;0000 UTC" title='Sat, Dec 1, 2018, 12:56 PM UTC'>
        01/12/2018 - Estimated reading time: 3 minutes
      </time>

       
      
    </div>
  </header>

  

  <section><p>Improvements to the Java 8 <a href="https://docs.oracle.com/javase/tutorial/datetime/iso/index.html">Date and Time API</a>&ndash;in particular Instant, LocalDate/LocalDateTime, and their absolute counterpart ZonedDateTime, provide a much more intuitive and friendly way to deal with time than previous versions of Java.</p>
<h3 id="instant">Instant</h3>
<p>Instants represent a snapshot of time and assumes that time is a straight line. This is in contrast to something like LocalDateTime, which takes into account daylight savings transformations and other fun adjustments like leap years.</p>
<p>We can take the Instant of any moment with Instant.now(), and we can get the difference between them with Duration. Start a simple JUnit test file and begin it like so:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">private</span> <span style="color:#8be9fd;font-style:italic">static</span> Instant start1;
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">private</span> <span style="color:#8be9fd;font-style:italic">static</span> Instant end1;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">private</span> <span style="color:#8be9fd;font-style:italic">static</span> Instant start2;
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">private</span> <span style="color:#8be9fd;font-style:italic">static</span> Instant end2;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @BeforeClass
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">static</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">instants_differencing</span>() <span style="color:#8be9fd;font-style:italic">throws</span> Exception {
</span></span><span style="display:flex;"><span>        start1 <span style="color:#ff79c6">=</span> Instant.<span style="color:#50fa7b">now</span>();
</span></span><span style="display:flex;"><span>        Thread.<span style="color:#50fa7b">sleep</span>(15);
</span></span><span style="display:flex;"><span>        end1 <span style="color:#ff79c6">=</span> Instant.<span style="color:#50fa7b">now</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        start2 <span style="color:#ff79c6">=</span> Instant.<span style="color:#50fa7b">now</span>();
</span></span><span style="display:flex;"><span>        Thread.<span style="color:#50fa7b">sleep</span>(90);
</span></span><span style="display:flex;"><span>        end2 <span style="color:#ff79c6">=</span> Instant.<span style="color:#50fa7b">now</span>();
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p>Then we can get the difference between any two of them, and validate expectations, like:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    @Test
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">differenceBetweenTwoInstants</span>() <span style="color:#8be9fd;font-style:italic">throws</span> Exception {
</span></span><span style="display:flex;"><span>        Duration timeElapsed <span style="color:#ff79c6">=</span> Duration.<span style="color:#50fa7b">between</span>(start1, end1);
</span></span><span style="display:flex;"><span>        <span style="color:#8be9fd">long</span> milliseconds <span style="color:#ff79c6">=</span> timeElapsed.<span style="color:#50fa7b">toMillis</span>();
</span></span><span style="display:flex;"><span>        assertTrue(milliseconds <span style="color:#ff79c6">&amp;</span>gt;<span style="color:#ff79c6">=</span> 14 <span style="color:#ff79c6">&amp;</span>amp;<span style="color:#ff79c6">&amp;</span>amp; milliseconds <span style="color:#ff79c6">&amp;</span>lt;<span style="color:#ff79c6">=</span> 16);
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p>We can compare two Durations using an intuitive, fluent API. Here we validate that the difference between the second set of start and end instants (start2 and end2) is five times or more farther apart on the timeline than the difference between first set of instants (start1 and end1):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    @Test
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">atLeastFiveTimesFaster</span>() <span style="color:#8be9fd;font-style:italic">throws</span> Exception {
</span></span><span style="display:flex;"><span>        Duration timeElapsed1 <span style="color:#ff79c6">=</span> Duration.<span style="color:#50fa7b">between</span>(start1, end1);
</span></span><span style="display:flex;"><span>        Duration timeElapsed2 <span style="color:#ff79c6">=</span> Duration.<span style="color:#50fa7b">between</span>(start2, end2);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#8be9fd">boolean</span> isOverFiveTimesFaster <span style="color:#ff79c6">=</span> timeElapsed1.<span style="color:#50fa7b">multipliedBy</span>(5).<span style="color:#50fa7b">minus</span>(timeElapsed2).<span style="color:#50fa7b">isNegative</span>();
</span></span><span style="display:flex;"><span>        assertTrue(isOverFiveTimesFaster);
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><h3 id="localdate-and-temporaladjusters">LocalDate And TemporalAdjusters</h3>
<p>A LocalDate is a meant to represent something like a calendar day. We can get the current date with LocalDate.now():</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    @Test
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">localDate_now</span>() {
</span></span><span style="display:flex;"><span>        LocalDate today <span style="color:#ff79c6">=</span> LocalDate.<span style="color:#50fa7b">now</span>();
</span></span><span style="display:flex;"><span>        System.<span style="color:#50fa7b">out</span>.<span style="color:#50fa7b">println</span>(today.<span style="color:#50fa7b">toString</span>());
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p>We can also construct any LocalDate using LocalDate.of(..), shown below. There are two quirks I believe important to point out about LocalDate. The first is that it's aware of leap years:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    @Test
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">localDate_knowsLeapYears</span>() {
</span></span><span style="display:flex;"><span>        LocalDate localDateInLeapYear <span style="color:#ff79c6">=</span> LocalDate.<span style="color:#50fa7b">of</span>(2020,1,1);
</span></span><span style="display:flex;"><span>        <span style="color:#8be9fd">int</span> daysToAdd <span style="color:#ff79c6">=</span> 90;
</span></span><span style="display:flex;"><span>        LocalDate leapYearPlusDays <span style="color:#ff79c6">=</span> localDateInLeapYear.<span style="color:#50fa7b">plusDays</span>(daysToAdd);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        LocalDate localDateInNonLeapYear <span style="color:#ff79c6">=</span> LocalDate.<span style="color:#50fa7b">of</span>(2018, 1,1);
</span></span><span style="display:flex;"><span>        LocalDate nonLeapYearPlusDays <span style="color:#ff79c6">=</span> localDateInNonLeapYear.<span style="color:#50fa7b">plusDays</span>(daysToAdd);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        assertNotEquals(leapYearPlusDays.<span style="color:#50fa7b">getDayOfMonth</span>(), nonLeapYearPlusDays.<span style="color:#50fa7b">getDayOfMonth</span>());
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p>The second is the behavior of plusMonths(..), which will effectively truncate the end of a month if they have a different number of days between them. If two months have a different number of days and you're near the end of the month, it will reduce the day of the month if necessary to ensure you're only moving forward one calendar month.</p>
<p>For example, January has 31 days and February has 28 days. If we use plusMonths(1) from January 31st, we will get (in a non Leap Year) February 28th. No exceptions are thrown:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    @Test
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">localDate_plusMonths_returnsLastValidDate</span>() {
</span></span><span style="display:flex;"><span>        LocalDate endOfJanuary <span style="color:#ff79c6">=</span> LocalDate.<span style="color:#50fa7b">of</span>(2018,1,31);
</span></span><span style="display:flex;"><span>        LocalDate endOfFebruary <span style="color:#ff79c6">=</span> endOfJanuary.<span style="color:#50fa7b">plusMonths</span>(1);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        assertEquals(28, endOfFebruary.<span style="color:#50fa7b">getDayOfMonth</span>());
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p>The days of the week start at 1, which is a Monday in LocalDate-speak. That implies that the end of the week is considered Sunday and has a value of 7:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    @Test
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">localDate_dayOfWeek</span>() {
</span></span><span style="display:flex;"><span>        DayOfWeek monday <span style="color:#ff79c6">=</span> LocalDate.<span style="color:#50fa7b">of</span>(1900,1,1).<span style="color:#50fa7b">getDayOfWeek</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        assertEquals(<span style="color:#ff79c6">&amp;</span>#34;MONDAY<span style="color:#ff79c6">&amp;</span>#34;, monday.<span style="color:#50fa7b">toString</span>());
</span></span><span style="display:flex;"><span>        assertEquals(1, monday.<span style="color:#50fa7b">getValue</span>());
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p>Finally, you can adjust any LocalDate in ways beyond just adding and subtracting days using <a href="https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjusters.html">TemporalAdjusters</a>. For example, we can get the first Tuesday after today like:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    @Test
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">temporalAdjusters_getFirstTuesday</span>() {
</span></span><span style="display:flex;"><span>        LocalDate firstTuesday <span style="color:#ff79c6">=</span> LocalDate.<span style="color:#50fa7b">of</span>(2018, 6,1)
</span></span><span style="display:flex;"><span>            .<span style="color:#50fa7b">with</span>(TemporalAdjusters.<span style="color:#50fa7b">nextOrSame</span>(DayOfWeek.<span style="color:#50fa7b">TUESDAY</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        assertEquals(<span style="color:#ff79c6">&amp;</span>#34;TUESDAY<span style="color:#ff79c6">&amp;</span>#34;, firstTuesday.<span style="color:#50fa7b">getDayOfWeek</span>().<span style="color:#50fa7b">toString</span>());
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p>And we can get the second Monday in the month like:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    @Test
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">temporalAdjusters_getNthWeekdayInMonth</span>() {
</span></span><span style="display:flex;"><span>        LocalDate secondMondayInJune <span style="color:#ff79c6">=</span> LocalDate.<span style="color:#50fa7b">of</span>(2018, 6, 1)
</span></span><span style="display:flex;"><span>            .<span style="color:#50fa7b">with</span>(TemporalAdjusters.<span style="color:#50fa7b">dayOfWeekInMonth</span>(2, DayOfWeek.<span style="color:#50fa7b">MONDAY</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        assertEquals(LocalDate.<span style="color:#50fa7b">of</span>(2018,6,11), secondMondayInJune);
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div></section>

  
    
  

    
  


  <footer>
    
      <div class="pb-14 taxonomy-list tags-list">
      
        <a href="/tags/java/" alt="Java">
          Java
        </a>
      
      </div>
    
  </footer>
</article>


    </main><footer class="pt-5 pb-10 grid gap-3 sm:grid-cols-2">
    <div class="text-xs font-semibold text-gray-500 order-2 sm:order-1">
  © 2018-2025 —
  <a href="http://localhost:1313/">Nick Fisher&#39;s tech blog</a> 
</div>

    <div class="order-1 sm:order-2">
  <ul class="flex sm:justify-end gap-5">
    
    
    <li>    
      <a href="https://www.linkedin.com/in/nick-fisher-software/" target="_blank" rel="noopener noreferrer">LinkedIn</a>
    </li>
    
    <li>    
      <a href="https://github.com/nfisher23" target="_blank" rel="noopener noreferrer">GitHub</a>
    </li>
    
    
  </ul>
</div>

</footer></body>
</html>
