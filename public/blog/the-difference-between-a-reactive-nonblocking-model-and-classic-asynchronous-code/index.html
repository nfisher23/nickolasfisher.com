<!DOCTYPE html>
<html lang="en-US" class="scroll-smooth dark">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>

<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>The Difference Between a Reactive Non-Blocking Model and Classic Asynchronous Code</title>
<meta
  name="description"
  content="Reactive Programming is a very different way of thinking about doing work in a microservices environment. Anyone who has worked with a GUI, dating back to even to windows forms, is familiar with the event based model, but what does that mean when there is unpredictable latency involved? How does handing off to a thread to make a remote call differ from this new &quot;reactive web&quot;?"
/>
<link rel="canonical" href="http://localhost:1313/blog/the-difference-between-a-reactive-nonblocking-model-and-classic-asynchronous-code/" />
<link rel="robots" href="/robots.txt" />

<link rel="icon" type="image/x-icon" href="/icons/favicon.ico" />



<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] } });</script>

<link rel="stylesheet" href="http://localhost:1313/css/app.css" /></head>

  <body class="max-w-screen-md mx-auto px-2.5">
    <div class="header">
      <header class="flex flex-col sm:flex-row items-center gap-5 sm:gap-10 pt-16 py-12">
   


<div class="flex-none w-20 h-20 rounded-full overflow-hidden">
  <a href="http://localhost:1313/">
    <img
      srcset="/img/profile-picture_hu4241499301404582006.jpg 80w"
      src="/img/profile-picture.jpg"
      width="386"
      height="345"
      alt="Nick Fisher&#39;s tech blog"
    />
  </a>
</div>

  
  <div class="flex flex-col gap-5">
    <a href="http://localhost:1313/">
  <h1 id="site-title">Nick Fisher&#39;s tech blog</h1>
</a>
 
    <nav>
  <ul>
     
    
    <li>
      <a href="/" class="">
        Home
      </a>
    </li>
    
    <li>
      <a href="/blog" class="">
        Blog
      </a>
    </li>
    
    <li>
      <a href="/about" class="">
        About me
      </a>
    </li>
    
    <li>
      <a href="/categories" class="">
        Categories
      </a>
    </li>
    
    <li>
      <a href="/tags" class="">
        Tags
      </a>
    </li>
    
  </ul>
</nav>

  </div>
</header>

      <button class="toggle-theme" aria-label="Toggle Theme" title="Toggle Theme" onclick="toggleTheme()">
  <span class="theme-icon light"> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z" />
</svg> </span>
  <span class="theme-icon dark"> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z" />
</svg> </span>
</button>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const theme = localStorage.getItem('theme');

    if (!theme || theme === 'light') {
      setTheme('light');
    } else {
      setTheme(theme);
    }
  });

  function setTheme(theme) {
    const html = document.querySelector('html');
    localStorage.setItem('theme', theme);

    if (theme === 'light') {
      if (html.classList.contains('dark')) {
        document.querySelector('html').classList.remove('dark');
      }

      document.querySelector('.theme-icon.light').style.display = 'none';
      document.querySelector('.theme-icon.dark').style.display = 'block';
    } else {
      if (!html.classList.contains('dark')) {
        document.querySelector('html').classList.add('dark');
      }

      document.querySelector('.theme-icon.dark').style.display = 'none';
      document.querySelector('.theme-icon.light').style.display = 'block';
    }
  }

  function toggleTheme() {
    const theme = localStorage.getItem('theme');

    if (theme === 'light') {
      setTheme('dark');
    } else {
      setTheme('light');
    }
  }
</script>
    </div>
  
    <main id="content">

<article class="flex flex-col gap-10">
  <header class="flex flex-col gap-2">
    <h2 class="title-large">The Difference Between a Reactive Non-Blocking Model and Classic Asynchronous Code</h2>

    <div class="meta">
      
      <time datetime="2019-07-06 15:10:01 &#43;0000 UTC" title='Sat, Jul 6, 2019, 3:10 PM UTC'>
        06/07/2019 - Estimated reading time: 6 minutes
      </time>

       
      
    </div>
  </header>

  

  <section><p>Reactive Programming is a very different way of thinking about doing work in a microservices environment. Anyone who has worked with a GUI, dating back to even to windows forms, is familiar with the event based model, but what does that mean when there is unpredictable latency involved? How does handing off to a thread to make a remote call differ from this new &quot;reactive web&quot;?</p>
<p>This was confusing to me at first, so I dug in and got a solid example working to illustrate what's really going on here.</p>
<h3 id="some-background-on-theory">Some Background On Theory</h3>
<p>Reactive Programming across network boundaries is fundamentally different from just making asynchronous calls in exactly one way. We'll start with an example from a <a href="https://nickolasfisher.com/blog/How-to-Make-Concurrent-Service-API-Calls-in-Java-Using-Spring-Boot">previous blog post on making concurrent API calls in Spring Boot</a>. In that example, the primary block to consider was this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@Component
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">class</span> <span style="color:#50fa7b">ConcurrentRunner</span> <span style="color:#8be9fd;font-style:italic">implements</span> CommandLineRunner {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @Autowired
</span></span><span style="display:flex;"><span>    SlowServiceCaller slowServiceCaller;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">run</span>(String... args) <span style="color:#8be9fd;font-style:italic">throws</span> Exception {
</span></span><span style="display:flex;"><span>        Instant start <span style="color:#ff79c6">=</span> Instant.<span style="color:#50fa7b">now</span>();
</span></span><span style="display:flex;"><span>        List<span style="color:#ff79c6">&amp;</span>lt;CompletableFuture<span style="color:#ff79c6">&amp;</span>lt;JsonNode<span style="color:#ff79c6">&amp;</span>gt;<span style="color:#ff79c6">&amp;</span>gt; allFutures <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> ArrayList<span style="color:#ff79c6">&amp;</span>lt;<span style="color:#ff79c6">&amp;</span>gt;();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">for</span> (<span style="color:#8be9fd">int</span> i <span style="color:#ff79c6">=</span> 0; i <span style="color:#ff79c6">&amp;</span>lt; 10; i<span style="color:#ff79c6">&amp;</span>#43;<span style="color:#ff79c6">&amp;</span>#43;) {
</span></span><span style="display:flex;"><span>            allFutures.<span style="color:#50fa7b">add</span>(slowServiceCaller.<span style="color:#50fa7b">callOtherService</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        CompletableFuture.<span style="color:#50fa7b">allOf</span>(allFutures.<span style="color:#50fa7b">toArray</span>(<span style="color:#ff79c6">new</span> CompletableFuture<span style="color:#ff79c6">[</span>0<span style="color:#ff79c6">]</span>)).<span style="color:#50fa7b">join</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">for</span> (<span style="color:#8be9fd">int</span> i <span style="color:#ff79c6">=</span> 0; i <span style="color:#ff79c6">&amp;</span>lt; 10; i<span style="color:#ff79c6">&amp;</span>#43;<span style="color:#ff79c6">&amp;</span>#43;) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#50fa7b">out</span>.<span style="color:#50fa7b">println</span>(<span style="color:#ff79c6">&amp;</span>#34;response: <span style="color:#ff79c6">&amp;</span>#34; <span style="color:#ff79c6">&amp;</span>#43; allFutures.<span style="color:#50fa7b">get</span>(i).<span style="color:#50fa7b">get</span>().<span style="color:#50fa7b">toString</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#50fa7b">out</span>.<span style="color:#50fa7b">println</span>(<span style="color:#ff79c6">&amp;</span>#34;Total time: <span style="color:#ff79c6">&amp;</span>#34; <span style="color:#ff79c6">&amp;</span>#43; Duration.<span style="color:#50fa7b">between</span>(start, Instant.<span style="color:#50fa7b">now</span>()).<span style="color:#50fa7b">getSeconds</span>());
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>When configured with an Executor of 5 threads, and hitting an endpoint that takes exactly 2 seconds to resolve and respond, the whole operation takes 4 seconds. This is roughly what happens:</p>
<ol>
<li><code>slowServiceCaller.callOtherService()</code> hands off the REST API call to a thread, which is pulled from an <code>Executor</code> [a thread pool]</li>
<li>The thread that gets handed the task will make a call to the remote service</li>
<li>After the call has completed [the TCP layer will require some chatter back and forth to make sure that the message gets there properly, and if there is TLS involved there will be a handshake back and forth], the thread will sit there and wait for a response for however long it has been configured to timeout. This is called <em>blocking</em>.</li>
<li>Once the response gets in, which will involve more TCP layer chatter to validate the correct message gets there, the thread processes it, drops it into a <code>CompletableFuture</code>, and then releases.</li>
</ol>
<p>This is asynchronous, and blocking. Each thread that gets a task will have to wait, in this case two seconds each time, until the service it is calling can send the message back.</p>
<p>Reactive programming basically came out of this realization: This thread we're handing off to is spending the vast majority of its time <em>waiting</em>, and doing <em>nothing</em>. It sends the request, then waits for a much longer period of time, then eventually gets a response and continues work.</p>
<p>So, what if we could design a model where our threads were always working? What would that look like? Well, one way to do it would be to have each thread focus on sending the request, then immediately rejoining the work pool. When the response comes in, we can generate an event that either that thread or another thread can pick up, and process the response. That is the reactive model in a nutshell: we try to make sure that our threads are always working on something, and not waiting.</p>
<h3 id="an-example">An Example</h3>
<p>From that previous blog post, make sure that you have a slow service that we can interact with. In a nutshell, the endpoint we'll hit can look like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@SpringBootApplication
</span></span><span style="display:flex;"><span>@RestController
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">class</span> <span style="color:#50fa7b">SlowApplication</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">static</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">main</span>(String<span style="color:#ff79c6">[]</span> args) {
</span></span><span style="display:flex;"><span>        SpringApplication.<span style="color:#50fa7b">run</span>(SlowApplication.<span style="color:#50fa7b">class</span>, args);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @GetMapping(<span style="color:#ff79c6">&amp;</span>#34;<span style="color:#ff79c6">/</span>slow<span style="color:#ff79c6">&amp;</span>#34;)
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">public</span> String <span style="color:#50fa7b">slow</span>() <span style="color:#8be9fd;font-style:italic">throws</span> InterruptedException {
</span></span><span style="display:flex;"><span>        Thread.<span style="color:#50fa7b">sleep</span>(2000);
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">return</span> <span style="color:#ff79c6">&amp;</span>#34;{\<span style="color:#ff79c6">&amp;</span>#34;hello\<span style="color:#ff79c6">&amp;</span>#34;:\<span style="color:#ff79c6">&amp;</span>#34;hello\<span style="color:#ff79c6">&amp;</span>#34;}<span style="color:#ff79c6">&amp;</span>#34;;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>If we have this service running on <strong>port 9000</strong>, then we can configure a reactive <code>WebClient</code> to use that as a base url. Going off a previous post on <a href="https://nickolasfisher.com/blog/How-to-Configure-Reactive-Netty-in-Spring-Boot-in-Depth">configuring Reactive Netty in Spring Boot</a>, we can modify our event loop group to have just five threads:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    @Bean
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">public</span> NioEventLoopGroup <span style="color:#50fa7b">nioEventLoopGroup</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">return</span> <span style="color:#ff79c6">new</span> NioEventLoopGroup(5);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @Bean
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">public</span> WebClient <span style="color:#50fa7b">webClient</span>(ReactorClientHttpConnector r) {
</span></span><span style="display:flex;"><span>        <span style="color:#6272a4">// root url to localhost:9000, where our slow service should be running</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">return</span> WebClient.<span style="color:#50fa7b">builder</span>().<span style="color:#50fa7b">baseUrl</span>(<span style="color:#ff79c6">&amp;</span>#34;http:<span style="color:#6272a4">//localhost:9000&amp;#34;).clientConnector(r).build();</span>
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p>We can then implement a command line runner. In this case, we'll have it loop one thousand times:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@Component
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">class</span> <span style="color:#50fa7b">ReactiveCallsRunner</span> <span style="color:#8be9fd;font-style:italic">implements</span> CommandLineRunner {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">private</span> <span style="color:#8be9fd;font-style:italic">static</span> Logger logger <span style="color:#ff79c6">=</span> LoggerFactory.<span style="color:#50fa7b">getLogger</span>(ReactiveCallsRunner.<span style="color:#50fa7b">class</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @Autowired
</span></span><span style="display:flex;"><span>    WebClient webClient;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">run</span>(String... args) <span style="color:#8be9fd;font-style:italic">throws</span> Exception {
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">for</span> (<span style="color:#8be9fd">int</span> i <span style="color:#ff79c6">=</span> 0; i <span style="color:#ff79c6">&amp;</span>lt; 1000; i<span style="color:#ff79c6">&amp;</span>#43;<span style="color:#ff79c6">&amp;</span>#43;) {
</span></span><span style="display:flex;"><span>            webClient.<span style="color:#50fa7b">get</span>().<span style="color:#50fa7b">uri</span>(<span style="color:#ff79c6">&amp;</span>#34;<span style="color:#ff79c6">/</span>slow<span style="color:#ff79c6">&amp;</span>#34;).<span style="color:#50fa7b">accept</span>(MediaType.<span style="color:#50fa7b">APPLICATION_JSON</span>)
</span></span><span style="display:flex;"><span>                    .<span style="color:#50fa7b">retrieve</span>()
</span></span><span style="display:flex;"><span>                    .<span style="color:#50fa7b">bodyToMono</span>(JsonNode.<span style="color:#50fa7b">class</span>)
</span></span><span style="display:flex;"><span>                    .<span style="color:#50fa7b">doOnSuccess</span>(jsonNode <span style="color:#ff79c6">-&amp;</span>gt; logger.<span style="color:#50fa7b">info</span>(<span style="color:#ff79c6">&amp;</span>#34;thread: <span style="color:#ff79c6">&amp;</span>#34; <span style="color:#ff79c6">&amp;</span>#43; Thread.<span style="color:#50fa7b">currentThread</span>()))
</span></span><span style="display:flex;"><span>                    .<span style="color:#50fa7b">subscribe</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        logger.<span style="color:#50fa7b">info</span>(<span style="color:#ff79c6">&amp;</span>#34;done with command line runner<span style="color:#ff79c6">&amp;</span>#34;);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Before we run this, what do we expect to see? Well, the service that we are hitting is running on an embedded Tomcat webserver. In Spring Boot, that defaults to 200 threads. Because we know that our reactive <code>WebClient</code> is nonblocking, five threads should be able to send out all of the requests at once, but the client that we are hitting will max out at 200 responses every two seconds. Therefore, all of the calls should complete within about ten seconds or so.</p>
<p>If you run this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ mvn spring-boot:run
</span></span></code></pre></div><p>Then, assuming your slow service is up and running on port 9000, your logs should start like this:</p>
<pre tabindex="0"><code>08:44:07.981  INFO 25590 --- [           main] c.n.reactiveex.ReactiveCallsRunner       : done with command line runner
08:44:09.959  INFO 25590 --- [ntLoopGroup-2-3] c.n.reactiveex.ReactiveCallsRunner       : thread: Thread[nioEventLoopGroup-2-3,10,com.nickolasfisher.reactiveex.ReactiveexApplication]
08:44:09.959  INFO 25590 --- [ntLoopGroup-2-2] c.n.reactiveex.ReactiveCallsRunner       : thread: Thread[nioEventLoopGroup-2-2,10,com.nickolasfisher.reactiveex.ReactiveexApplication]
08:44:09.959  INFO 25590 --- [ntLoopGroup-2-4] c.n.reactiveex.ReactiveCallsRunner       : thread: Thread[nioEventLoopGroup-2-4,10,com.nickolasfisher.reactiveex.ReactiveexApplication]
08:44:09.959  INFO 25590 --- [ntLoopGroup-2-1] c.n.reactiveex.ReactiveCallsRunner       : thread: Thread[nioEventLoopGroup-2-1,10,com.nickolasfisher.reactiveex.ReactiveexApplication]
08:44:09.959  INFO 25590 --- [ntLoopGroup-2-5] c.n.reactiveex.ReactiveCallsRunner       : thread: Thread[nioEventLoopGroup-2-5,10,com.nickolasfisher.reactiveex.ReactiveexApplication]
08:44:09.962  INFO 25590 --- [ntLoopGroup-2-5] c.n.reactiveex.ReactiveCallsRunner       : thread: Thread[nioEventLoopGroup-2-5,10,com.nickolasfisher.reactiveex.ReactiveexApplication]
08:44:09.962  INFO 25590 --- [ntLoopGroup-2-2] c.n.reactiveex.ReactiveCallsRunner       : thread: Thread[nioEventLoopGroup-2-2,10,com.nickolasfisher.reactiveex.ReactiveexApplication]
08:44:09.962  INFO 25590 --- [ntLoopGroup-2-3] c.n.reactiveex.ReactiveCallsRunner       : thread: Thread[nioEventLoopGroup-2-3,10,com.nickolasfisher.reactiveex.ReactiveexApplication]
08:44:09.962  INFO 25590 --- [ntLoopGroup-2-4] c.n.reactiveex.ReactiveCallsRunner       : thread: Thread[nioEventLoopGroup-2-4,10,com.nickolasfisher.reactiveex.ReactiveexApplication]
08:44:09.962  INFO 25590 --- [ntLoopGroup-2-1] c.n.reactiveex.ReactiveCallsRunner       : thread: Thread[nioEventLoopGroup-2-1,10,com.nickolasfisher.reactiveex.ReactiveexApplication]
08:44:09.963  INFO 25590 --- [ntLoopGroup-2-5] c.n.reactiveex.ReactiveCallsRunner       : thread: Thread[nioEventLoopGroup-2-5,10,com.nickolasfisher.reactiveex.ReactiveexApplication]
08:44:09.963  INFO 25590 --- [ntLoopGroup-2-2] c.n.reactiveex.ReactiveCallsRunner       : thread: Thread[nioEventLoopGroup-2-2,10,com.nickolasfisher.reactiveex.ReactiveexApplication]
08:44:09.964  INFO 25590 --- [ntLoopGroup-2-3] c.n.reactiveex.ReactiveCallsRunner       : thread: Thread[nioEventLoopGroup-2-3,10,com.nickolasfisher.reactiveex.ReactiveexApplication]
08:44:09.964  INFO 25590 --- [ntLoopGroup-2-4] c.n.reactiveex.ReactiveCallsRunner       : thread: Thread[nioEventLoopGroup-2-4,10,com.nickolasfisher.reactiveex.ReactiveexApplication]
08:44:09.964  INFO 25590 --- [ntLoopGroup-2-1] c.n.reactiveex.ReactiveCallsRunner       : thread: Thread[nioEventLoopGroup-2-1,10,com.nickolasfisher.reactiveex.ReactiveexApplication]
08:44:09.964  INFO 25590 --- [ntLoopGroup-2-5] c.n.reactiveex.ReactiveCallsRunner       : thread: Thread[nioEventLoopGroup-2-5,10,com.nickolasfisher.reactiveex.ReactiveexApplication]
08:44:09.964  INFO 25590 --- [ntLoopGroup-2-2] c.n.reactiveex.ReactiveCallsRunner       : thread: Thread[nioEventLoopGroup-2-2,10,com.nickolasfisher.reactiveex.ReactiveexApplication]
08:44:09.965  INFO 25590 --- [ntLoopGroup-2-3] c.n.reactiveex.ReactiveCallsRunner       : thread: Thread[nioEventLoopGroup-2-3,10,com.nickolasfisher.reactiveex.ReactiveexApplication]
08:44:09.965  INFO 25590 --- [ntLoopGroup-2-5] c.n.reactiveex.ReactiveCallsRunner       : thread: Thread[nioEventLoopGroup-2-5,10,com.nickolasfisher.reactiveex.ReactiveexApplication]
</code></pre><p>We can see that we are reusing the same five threads, and that all of these calls go out within about 5 milliseconds of each other. This is where the real advantage of reactive web comes into play: when you have latency and it's unpredictable, then this kind of architecture will still be consistent.</p>
<p>Even if you set the thread pool size to 1, we can still send out 1000 requests in under a few hundred milliseconds, despite the fact that the service we're calling takes two seconds to respond.</p>
</section>

  
    
  

    
  


  <footer>
    
      <div class="pb-14 taxonomy-list tags-list">
      
        <a href="/tags/java/" alt="Java">
          Java
        </a>
      
        <a href="/tags/spring/" alt="Spring">
          Spring
        </a>
      
        <a href="/tags/concurrency/" alt="Concurrency">
          Concurrency
        </a>
      
        <a href="/tags/reactive/" alt="Reactive">
          Reactive
        </a>
      
      </div>
    
  </footer>
</article>


    </main><footer class="pt-5 pb-10 grid gap-3 sm:grid-cols-2">
    <div class="text-xs font-semibold text-gray-500 order-2 sm:order-1">
  © 2018-2025 —
  <a href="http://localhost:1313/">Nick Fisher&#39;s tech blog</a> 
</div>

    <div class="order-1 sm:order-2">
  <ul class="flex sm:justify-end gap-5">
    
    
    <li>    
      <a href="https://www.linkedin.com/in/nick-fisher-software/" target="_blank" rel="noopener noreferrer">LinkedIn</a>
    </li>
    
    <li>    
      <a href="https://github.com/nfisher23" target="_blank" rel="noopener noreferrer">GitHub</a>
    </li>
    
    
  </ul>
</div>

</footer></body>
</html>
