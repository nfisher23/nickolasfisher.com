<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Dynamodb on Nick Fisher's tech blog</title><link>https://www.nickolasfisher.com/tags/dynamodb/</link><description>Recent content in Dynamodb on Nick Fisher's tech blog</description><generator>Hugo</generator><language>en-US</language><copyright>2018-{year}</copyright><lastBuildDate>Sat, 10 Apr 2021 16:13:09 +0000</lastBuildDate><atom:link href="https://www.nickolasfisher.com/tags/dynamodb/index.xml" rel="self" type="application/rss+xml"/><item><title>Setup and Use a DynamoDB Test Container with the AWS Java SDK 2.0</title><link>https://www.nickolasfisher.com/blog/setup-and-use-a-dynamodb-test-container-with-the-aws-java-sdk-20/</link><pubDate>Sat, 10 Apr 2021 16:13:09 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/setup-and-use-a-dynamodb-test-container-with-the-aws-java-sdk-20/</guid><description>&lt;p>The source code for this article &lt;a href="https://github.com/nfisher23/webflux-and-dynamo">can be found on Github&lt;/a>.&lt;/p>
&lt;p>Using &lt;a href="https://nickolasfisher.com/blog/Configuring-an-In-Memory-DynamoDB-instance-with-Java-for-Integration-Testing">embedded dynamodb for testing&lt;/a> is, in my experience, kind of flakey and unpredictable. Because of the weird way it pulls in SQLite on a per operating system basis, it can sometimes work locally and not work on the build server. Sometimes it&amp;rsquo;s just not working for some unexplained reason and wiping the directory that the code is in and re-cloning fixes it. Not a fun time.&lt;/p></description></item><item><title>Atomic Incrementing in DynamoDB with the Java AWS SDK 2.0</title><link>https://www.nickolasfisher.com/blog/atomic-incrementing-in-dynamodb-with-the-java-aws-sdk-20/</link><pubDate>Sun, 28 Mar 2021 02:00:30 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/atomic-incrementing-in-dynamodb-with-the-java-aws-sdk-20/</guid><description>&lt;p>The source code for this post &lt;a href="https://github.com/nfisher23/webflux-and-dynamo">can be found on Github&lt;/a>.&lt;/p>
&lt;p>When you update an item in DynamoDB, you can optionally update the item in place. That is, instead of &lt;strong>read-increment-write&lt;/strong>, you can just issue a command that says &lt;strong>increment this value in place&lt;/strong>. This behavior is detailed in the &lt;a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/WorkingWithItems.html#WorkingWithItems.AtomicCounters">AWS documentation&lt;/a>, and I will provide an example for how to do so with the Java AWS SDK 2.0, which has full reactive support.&lt;/p></description></item><item><title>Setting up a Python Lambda to Trigger on DynamoDB Streams via the AWS CLI</title><link>https://www.nickolasfisher.com/blog/setting-up-a-python-lambda-to-trigger-on-dynamodb-streams-via-the-aws-cli/</link><pubDate>Sun, 07 Feb 2021 19:47:50 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/setting-up-a-python-lambda-to-trigger-on-dynamodb-streams-via-the-aws-cli/</guid><description>&lt;p>DynamoDB streams record information about what has changed in a DynamoDB table, and AWS lambdas are ways to run code without managing servers yourself. DynamoDB streams also have an integration with AWS Lambdas so that any change to a DynamoDB table can be processed by an AWS Lambda&amp;ndash;still without worrying about keeping your servers up or maintaining them. That is the subject of this post.&lt;/p></description></item><item><title>DynamoDB Transactions and Java</title><link>https://www.nickolasfisher.com/blog/dynamodb-transactions-and-java/</link><pubDate>Sat, 28 Nov 2020 20:57:47 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/dynamodb-transactions-and-java/</guid><description>&lt;p>DynamoDB transactions can be used for &lt;em>atomic&lt;/em> updates. Atomic updates in DynamoDB without transactions can be difficult to implement&amp;ndash;you&amp;rsquo;ll often have to manage the current state of the update yourself in something like a saga, and have business logic specific rollback procedures. Further, without a transaction manager, the data will be in an inconsistent state at some point in time while the saga is ongoing. An alternative to that is a Two Phase Commit, but that&amp;rsquo;s also expensive both from the standpoint of developers making it work as well as performance [2PC typically call for a lock being held during the operation, and even then there&amp;rsquo;s a possibility that the operation ends up in an inconsistent state at some point].&lt;/p></description></item><item><title>Working with Nested Attributes, DynamoDB, and the Java SDK 2.0</title><link>https://www.nickolasfisher.com/blog/working-with-nested-attributes-dynamodb-and-the-java-sdk-20/</link><pubDate>Sun, 15 Nov 2020 22:59:11 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/working-with-nested-attributes-dynamodb-and-the-java-sdk-20/</guid><description>&lt;p>&lt;a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Expressions.Attributes.html">Nested attributes in DynamoDB&lt;/a> are a way to group data within an item together. The attributes are said to be nested if they are embedded within another attribute.&lt;/p></description></item><item><title>Scanning a DynamoDB table in Java with the AWS SDK 2.0</title><link>https://www.nickolasfisher.com/blog/scanning-a-dynamodb-table-in-java-with-the-aws-sdk-20/</link><pubDate>Sat, 07 Nov 2020 02:08:37 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/scanning-a-dynamodb-table-in-java-with-the-aws-sdk-20/</guid><description>&lt;p>&lt;a href="https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_Scan.html">Scanning in DynamoDB&lt;/a> is exactly what it sounds like: loop through every single record in a table, optionally filtering for items with a certain condition when dynamo returns them to you. In general, you &lt;em>shouldn&amp;rsquo;t do this&lt;/em>. DynamoDB is designed to store and manage a very large amount of data. Scanning through a large amount of data is very expensive, even in a distributed world. In the best case, you&amp;rsquo;ll be waiting a long time to see results. In the worst case, you might see service outages as you burn through your RCUs.&lt;/p></description></item><item><title>DynamoDB and Duplicate Keys in Global Secondary Indexes</title><link>https://www.nickolasfisher.com/blog/dynamodb-and-duplicate-keys-in-global-secondary-indexes/</link><pubDate>Sun, 01 Nov 2020 23:27:39 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/dynamodb-and-duplicate-keys-in-global-secondary-indexes/</guid><description>&lt;p>If there&amp;rsquo;s something in the documentation about what the behavior of a DynamoDB Global Secondary Index is when there are duplicate keys in the index, it isn&amp;rsquo;t easy to find. I tested this empirically with an embedded DynamoDB mock for java and will quickly share my findings here with you.&lt;/p></description></item><item><title>Query a DynamoDB Global Secondary Index in Java</title><link>https://www.nickolasfisher.com/blog/query-a-dynamodb-global-secondary-index-in-java/</link><pubDate>Sun, 01 Nov 2020 22:40:46 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/query-a-dynamodb-global-secondary-index-in-java/</guid><description>&lt;p>A &lt;a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/GSI.html">DynamoDB Global Secondary Index&lt;/a> is an eventually consistent way to efficiently query for data that is not normally found without a table scan. It has &lt;a href="https://nickolasfisher.com/blog/Query-a-DynamoDB-Local-Secondary-Index-with-Java">some similarities to Local Secondary Indexes, which we covered in the last post&lt;/a>, but are more flexible than them because they can be created, updated, and deleted after the base table has been created, which is not true of Local Secondary Indexes.&lt;/p></description></item><item><title>Query a DynamoDB Local Secondary Index with Java</title><link>https://www.nickolasfisher.com/blog/query-a-dynamodb-local-secondary-index-with-java/</link><pubDate>Sat, 31 Oct 2020 22:49:54 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/query-a-dynamodb-local-secondary-index-with-java/</guid><description>&lt;p>DynamoDB&amp;rsquo;s Local Secondary Indexes allow for more query flexibility than a traditional partition and range key combination. They are also the only index in DynamoDB where a strongly consistent read can be requested [global secondary indexes, the other index that dynamo supports, can at best be eventually consistent]. I will walk through an example for how to use local secondary indexes in dynamo using the AWS SDK 2.0 for Java, which has full reactive support, in this post.&lt;/p></description></item><item><title>Set Time to Live [TTL] on DynamoDB Items using Java</title><link>https://www.nickolasfisher.com/blog/set-time-to-live-ttl-on-dynamodb-items-using-java/</link><pubDate>Sun, 18 Oct 2020 13:43:39 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/set-time-to-live-ttl-on-dynamodb-items-using-java/</guid><description>&lt;p>In this post, we&amp;rsquo;ll demonstrate how &lt;a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/TTL.html">expiring items in DynamoDB&lt;/a> works in java, using the AWS SDK 2.0+, which has full reactive support.&lt;/p></description></item><item><title>Querying DynamoDB in Java with the AWS SDK 2.0</title><link>https://www.nickolasfisher.com/blog/querying-dynamodb-in-java-with-the-aws-sdk-20/</link><pubDate>Sun, 18 Oct 2020 13:38:22 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/querying-dynamodb-in-java-with-the-aws-sdk-20/</guid><description>&lt;p>Queries in DynamoDB allow you to find data. This is only an option to you if your table has a partition and sort key.&lt;/p></description></item><item><title>Optimistic Locking in Java and DynamoDB</title><link>https://www.nickolasfisher.com/blog/optimistic-locking-in-java-and-dynamodb/</link><pubDate>Sun, 11 Oct 2020 20:19:42 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/optimistic-locking-in-java-and-dynamodb/</guid><description>&lt;p>I&amp;rsquo;ve previously written about using &lt;a href="https://nickolasfisher.com/blog/How-to-use-Optimistic-Locking-in-DynamoDB-via-the-AWS-CLI">conditional expressions to achieve optimistic locking in DynamoDB&lt;/a>, that example used the command line. I will now demonstrate how to do the same thing in java code, leveraging the AWS SDK 2.0 [with full reactive support].&lt;/p></description></item><item><title>Configuring an In Memory DynamoDB instance with Java for Integration Testing</title><link>https://www.nickolasfisher.com/blog/configuring-an-in-memory-dynamodb-instance-with-java-for-integration-testing/</link><pubDate>Sat, 10 Oct 2020 00:02:25 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/configuring-an-in-memory-dynamodb-instance-with-java-for-integration-testing/</guid><description>&lt;p>While using the AWS SDK 2.0, which has support for reactive programming, it became clear that there was no straightforward support for an embedded dynamo db instance for testing. I spent a fair amount of time figuring it out by starting with &lt;a href="https://github.com/aws/aws-sdk-java-v2/blob/93269d4c0416d0f72e086774265847d6af0d54ec/services-custom/dynamodb-enhanced/src/test/java/software/amazon/awssdk/extensions/dynamodb/mappingclient/functionaltests/LocalDynamoDb.java">this github link&lt;/a> and ultimately adapting it to my own needs.&lt;/p></description></item><item><title>How to use Optimistic Locking in DynamoDB via the AWS CLI</title><link>https://www.nickolasfisher.com/blog/how-to-use-optimistic-locking-in-dynamodb-via-the-aws-cli/</link><pubDate>Sat, 01 Aug 2020 20:46:28 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/how-to-use-optimistic-locking-in-dynamodb-via-the-aws-cli/</guid><description>&lt;p>Optimistic Locking is a form of concurrency control that basically aims to prevent two different threads from accidentally overwriting data that another thread has already written. I covered &lt;a href="https://nickolasfisher.com/blog/Optimistic-Locking-in-MySQLExplain-Like-Im-Five">optimistic locking in MySQL&lt;/a> in a previous blog post, which may or may not be easier to understand based on your background.&lt;/p></description></item><item><title>DynamoDB Streams and Python: A Working Introduction</title><link>https://www.nickolasfisher.com/blog/dynamodb-streams-and-python-a-working-introduction/</link><pubDate>Sun, 26 Jul 2020 21:54:59 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/dynamodb-streams-and-python-a-working-introduction/</guid><description>&lt;p>DynamoDB Streams is AWS&amp;rsquo;s home grown &lt;a href="https://en.wikipedia.org/wiki/Change_data_capture">Change Data Capture [CDC]&lt;/a> mechanism, which allows the consumer of the stream to see records probably in approximately the order they were created [it&amp;rsquo;s basically impossible, at scale, to guarantee that all records across all partitions will somehow stream the data in exactly the same order that it was written]. This is a pretty fantastic feature because it allows us to reliably do &lt;em>&amp;mdash;something&amp;mdash;&lt;/em> after we add new data, update existing data, or delete existing data. As long as all the stream records are read and processed, we can ensure at least once processing on data changes and then go sleep soundly at night knowing that there is one less edge case in our application. Combine that with the natural scale that DynamoDB provides via its leaderless architecture and you can build this thing once and probably never have to worry about it handling more load ever again.&lt;/p></description></item><item><title>How to Return a Response Entity in Spring Boot Webflux</title><link>https://www.nickolasfisher.com/blog/how-to-return-a-response-entity-in-spring-boot-webflux/</link><pubDate>Sun, 19 Jul 2020 16:07:33 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/how-to-return-a-response-entity-in-spring-boot-webflux/</guid><description>&lt;p>In my last post on &lt;a href="https://nickolasfisher.com/blog/DynamoDB-and-Spring-Boot-Webflux-A-Working-Introduction">getting started with spring boot webflux and AWS DynamoDB&lt;/a>, I mentioned that it wasn&amp;rsquo;t immediately obvious to find a way to customize the response code in a spring boot &lt;strong>RestController&lt;/strong>, so I opted to use handlers instead.&lt;/p></description></item><item><title>DynamoDB and Spring Boot Webflux - A Working Introduction</title><link>https://www.nickolasfisher.com/blog/dynamodb-and-spring-boot-webflux-a-working-introduction/</link><pubDate>Sat, 18 Jul 2020 23:07:05 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/dynamodb-and-spring-boot-webflux-a-working-introduction/</guid><description>&lt;p>The source code for this post &lt;a href="https://github.com/nfisher23/webflux-and-dynamo">can be found on Github&lt;/a>.&lt;/p>
&lt;p>The &lt;a href="https://docs.aws.amazon.com/sdk-for-java/v2/developer-guide/welcome.html">latest AWS SDK for java&lt;/a> uses a reactive client to send requests to various AWS services, including DynamoDB. Reactive programming is ultimately more robust at the edges&amp;ndash;once you start experiencing latency anywhere in your stack, if your tech is not reactive, you&amp;rsquo;re going to have a significantly worse time than if it were.&lt;/p></description></item><item><title>DynamoDB Basics: A Hands On Tutorial</title><link>https://www.nickolasfisher.com/blog/dynamodb-basics-a-hands-on-tutorial/</link><pubDate>Sun, 12 Jul 2020 18:36:05 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/dynamodb-basics-a-hands-on-tutorial/</guid><description>&lt;p>DynamoDB is a fully managed distributed datastore that does a great job of alleviating the operational overhead of building very scalable systems.&lt;/p></description></item></channel></rss>