<!DOCTYPE html>
<html lang="en-US" class="scroll-smooth dark">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>

<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Java</title>
<meta
  name="description"
  content=""
/>
<link rel="canonical" href="http://localhost:1313/tags/java/" />
<link rel="robots" href="/robots.txt" />

<link rel="icon" type="image/x-icon" href="/img/nficon.png" />



<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] } });</script>

<link rel="stylesheet" href="http://localhost:1313/css/app.css" /></head>

  <body class="max-w-screen-md mx-auto px-2.5">
    <div class="header">
      <header class="flex flex-col sm:flex-row items-center gap-5 sm:gap-10 pt-16 py-12">
   


<div class="flex-none w-20 h-20 rounded-full overflow-hidden">
  <a href="http://localhost:1313/">
    <img
      srcset="/img/profile-picture_hu4241499301404582006.jpg 80w"
      src="/img/profile-picture.jpg"
      width="386"
      height="345"
      alt="Nick Fisher&#39;s tech blog"
    />
  </a>
</div>

  
  <div class="flex flex-col gap-5">
    <a href="http://localhost:1313/">
  <h1 id="site-title">Nick Fisher&#39;s tech blog</h1>
</a>
 
    <nav>
  <ul>
     
    
    <li>
      <a href="/" class="">
        home
      </a>
    </li>
    
    <li>
      <a href="/blog" class="">
        blog
      </a>
    </li>
    
    <li>
      <a href="/about" class="">
        about
      </a>
    </li>
    
    <li>
      <a href="/tags" class="">
        Tags
      </a>
    </li>
    
  </ul>
</nav>

  </div>
</header>

      <button class="toggle-theme" aria-label="Toggle Theme" title="Toggle Theme" onclick="toggleTheme()">
  <span class="theme-icon light"> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z" />
</svg> </span>
  <span class="theme-icon dark"> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z" />
</svg> </span>
</button>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const theme = localStorage.getItem('theme');

    if (!theme || theme === 'light') {
      setTheme('light');
    } else {
      setTheme(theme);
    }
  });

  function setTheme(theme) {
    const html = document.querySelector('html');
    localStorage.setItem('theme', theme);

    if (theme === 'light') {
      if (html.classList.contains('dark')) {
        document.querySelector('html').classList.remove('dark');
      }

      document.querySelector('.theme-icon.light').style.display = 'none';
      document.querySelector('.theme-icon.dark').style.display = 'block';
    } else {
      if (!html.classList.contains('dark')) {
        document.querySelector('html').classList.add('dark');
      }

      document.querySelector('.theme-icon.dark').style.display = 'none';
      document.querySelector('.theme-icon.light').style.display = 'block';
    }
  }

  function toggleTheme() {
    const theme = localStorage.getItem('theme');

    if (theme === 'light') {
      setTheme('dark');
    } else {
      setTheme('light');
    }
  }
</script>
    </div>
  
    <main id="content">




<div class="flex flex-col gap-1">
  <h1 class="text-2xl font-extrabold">
    
      Java
      
    </h1>
  
  
</div>

<section class="flex flex-col gap-10">
  
    <article class="flex flex-col gap-1">
  <h1>
    <a href="http://localhost:1313/blog/a-guide-to-automatic-retries-in-reactor/">A Guide to Automatic Retries in Reactor</a>
  </h1>
  
  <span class="date">
    <time datetime="2020-08-16 16:22:09 &#43;0000 UTC" title='Sun, Aug 16, 2020, 4:22 PM UTC'>
      16/08/2020
    </time>
  </span>

  <div class="description">
    
      <p>The source code for this post <a href="https://github.com/nfisher23/reactive-programming-webflux">is available on GitHub</a>.</p>
<p>One of the nice things about a reactive programming model is there is a significantly lower risk of doomsday when things start getting latent all at once. You don&rsquo;t have threads upstream blocking and waiting for a response, therefore they won&rsquo;t all seize up and stop serving requests [or they won&rsquo;t short circuit if you&rsquo;re using a resiliency library like hystrix].</p>
    
  </div>

  <div class="mt-2">
    <a class="read-more" href="http://localhost:1313/blog/a-guide-to-automatic-retries-in-reactor/">
      Read more
      <span class="w-4 h-4 stroke-2">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
</svg>

      </span>
    </a>
  </div>
</article>

  
    <article class="flex flex-col gap-1">
  <h1>
    <a href="http://localhost:1313/blog/how-to-use-mock-server-to-end-to-end-test-any-webclient-calls-in-spring-boot-webflux/">How to use Mock Server to End to End Test Any WebClient Calls in Spring Boot Webflux</a>
  </h1>
  
  <span class="date">
    <time datetime="2020-08-08 22:44:14 &#43;0000 UTC" title='Sat, Aug 8, 2020, 10:44 PM UTC'>
      08/08/2020
    </time>
  </span>

  <div class="description">
    
      <p>The source code for this post <a href="https://github.com/nfisher23/reactive-programming-webflux/tree/master/mocking-and-unit-testing">can be found on Github</a>.</p>
<p><a href="https://www.mock-server.com">Mock Server</a> is a really simple and straightforward way to actually let your application make downstream calls and intercept them. That level of abstraction is really nice to have, and gives at least me much more confidence that my code is actually working in a microservices environment.</p>
    
  </div>

  <div class="mt-2">
    <a class="read-more" href="http://localhost:1313/blog/how-to-use-mock-server-to-end-to-end-test-any-webclient-calls-in-spring-boot-webflux/">
      Read more
      <span class="w-4 h-4 stroke-2">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
</svg>

      </span>
    </a>
  </div>
</article>

  
    <article class="flex flex-col gap-1">
  <h1>
    <a href="http://localhost:1313/blog/how-to-mock-dependencies-and-unit-test-in-spring-boot-webflux/">How to Mock Dependencies and Unit Test in Spring Boot Webflux</a>
  </h1>
  
  <span class="date">
    <time datetime="2020-08-08 22:14:53 &#43;0000 UTC" title='Sat, Aug 8, 2020, 10:14 PM UTC'>
      08/08/2020
    </time>
  </span>

  <div class="description">
    
      <p>The source code for this post can be found <a href="https://github.com/nfisher23/reactive-programming-webflux/tree/master/mocking-and-unit-testing">on Github</a>.</p>
<p>The most straightforward way to write unit tests in spring boot webflux is to leverage <a href="https://projectreactor.io/docs/test/release/api/reactor/test/StepVerifier.html">project reactor&rsquo;s StepVerifier</a>. StepVerifier allows you to pull each item in a <strong>Flux</strong> or the only potential item in a <strong>Mono</strong> and make assertions about each item as it&rsquo;s pulled through the chain, or make assertions about certain errors that should be thrown in the process. I&rsquo;m going to quickly walk you through an example integrating mockito with it and webflux.</p>
    
  </div>

  <div class="mt-2">
    <a class="read-more" href="http://localhost:1313/blog/how-to-mock-dependencies-and-unit-test-in-spring-boot-webflux/">
      Read more
      <span class="w-4 h-4 stroke-2">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
</svg>

      </span>
    </a>
  </div>
</article>

  
    <article class="flex flex-col gap-1">
  <h1>
    <a href="http://localhost:1313/blog/openapi-and-spring-boot-webflux-a-working-introduction/">OpenAPI and Spring Boot Webflux: A Working Introduction</a>
  </h1>
  
  <span class="date">
    <time datetime="2020-08-01 23:59:33 &#43;0000 UTC" title='Sat, Aug 1, 2020, 11:59 PM UTC'>
      01/08/2020
    </time>
  </span>

  <div class="description">
    
      <p>The <a href="http://spec.openapis.org/oas/v3.0.3">OpenAPI Specification</a> is an &ldquo;industry standard&rdquo; way of declaring the API interface. As REST APIs using JSON have dominated the way we move data around in most organizations and on the internet, particularly in service oriented architectures, and as documentation at almost every company has been written once, read a couple of times, then lost to the wind, smart people have figured out that they can put the documentation for their services living with the code&ndash;better yet, displayed while the app is running.</p>
    
  </div>

  <div class="mt-2">
    <a class="read-more" href="http://localhost:1313/blog/openapi-and-spring-boot-webflux-a-working-introduction/">
      Read more
      <span class="w-4 h-4 stroke-2">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
</svg>

      </span>
    </a>
  </div>
</article>

  
    <article class="flex flex-col gap-1">
  <h1>
    <a href="http://localhost:1313/blog/how-to-forward-request-headers-to-downstream-services-in-spring-boot-webflux/">How to Forward Request Headers to Downstream Services in Spring Boot Webflux</a>
  </h1>
  
  <span class="date">
    <time datetime="2020-07-19 19:39:10 &#43;0000 UTC" title='Sun, Jul 19, 2020, 7:39 PM UTC'>
      19/07/2020
    </time>
  </span>

  <div class="description">
    
      <p>The source code for this post <a href="https://github.com/nfisher23/reactive-programming-webflux/tree/master/context-api">can be found on Github</a>.</p>
<p>When you make the switch to a reactive codebase, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/ThreadLocal.html">ThreadLocal</a> becomes effectively off limits to you, because you aren&rsquo;t guaranteed that the thread that starts the request processing remains the same, even if it&rsquo;s the same HTTP request. This has caused pain in many places: the original implementation of spring security, for example, relied very heavily on ThreadLocal variables to store state that happened in the start of the request, and then reuse the information stored in those variables later on to make access control decisions. <a href="https://netflixtechblog.com/zuul-2-the-netflix-journey-to-asynchronous-non-blocking-systems-45947377fb5c">Neflix spoke of their pain migrating to a reactive stack</a>, when they had relied so heavily on ThreadLocal variables in most of their shared libraries.</p>
    
  </div>

  <div class="mt-2">
    <a class="read-more" href="http://localhost:1313/blog/how-to-forward-request-headers-to-downstream-services-in-spring-boot-webflux/">
      Read more
      <span class="w-4 h-4 stroke-2">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
</svg>

      </span>
    </a>
  </div>
</article>

  
</section>


  

<div class="pb-10 grid grid-cols-2 font-semibold">
  
  <div>
    
      <a href="/tags/java/page/10/" class="pagination-button">
        <span class="h-4 w-4 stroke-2"> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18" />
</svg>
 </span>
        Newer Posts
      </a>
    
  </div>

  
  <div class="flex justify-end">
    
      <a href="/tags/java/page/12/" class="pagination-button">
        Older Posts
        <span class="h-4 w-4 stroke-2"> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
</svg>
 </span>
      </a>
    
  </div>
</div>




    </main><footer class="pt-5 pb-10 grid gap-3 sm:grid-cols-2">
    <div class="text-xs font-semibold text-gray-500 order-2 sm:order-1">
  © 2018-2025 —
  <a href="http://localhost:1313/">Nick Fisher&#39;s tech blog</a> 
</div>

    <div class="order-1 sm:order-2">
  <ul class="flex sm:justify-end gap-5">
    
    
    <li>    
      <a href="https://www.linkedin.com/in/nick-fisher-software/" target="_blank" rel="noopener noreferrer">LinkedIn</a>
    </li>
    
    <li>    
      <a href="https://github.com/nfisher23" target="_blank" rel="noopener noreferrer">GitHub</a>
    </li>
    
    
  </ul>
</div>

</footer></body>
</html>
