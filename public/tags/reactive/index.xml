<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Reactive on Nick Fisher's tech blog</title><link>https://www.nickolasfisher.com/tags/reactive/</link><description>Recent content in Reactive on Nick Fisher's tech blog</description><generator>Hugo</generator><language>en-US</language><copyright>2018-{year}</copyright><lastBuildDate>Sat, 01 May 2021 15:22:58 +0000</lastBuildDate><atom:link href="https://www.nickolasfisher.com/tags/reactive/index.xml" rel="self" type="application/rss+xml"/><item><title>An Introduction to Redis Streams via Lettuce</title><link>https://www.nickolasfisher.com/blog/an-introduction-to-redis-streams-via-lettuce/</link><pubDate>Sat, 01 May 2021 15:22:58 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/an-introduction-to-redis-streams-via-lettuce/</guid><description>&lt;p>The source code for this article &lt;a href="https://github.com/nfisher23/reactive-programming-webflux">can be found on Github&lt;/a>.&lt;/p>
&lt;p>&lt;a href="https://redis.io/topics/streams-intro">Redis streams&lt;/a> are an interesting data structure that act as a sort of go-between for list and pub/sub operations: It&amp;rsquo;s like &lt;a href="https://nickolasfisher.com/blog/Working-with-Lists-in-Redis-using-Lettuce-and-Webflux">a list&lt;/a> in the sense that anything pushed onto the stream is retained, it&amp;rsquo;s like &lt;a href="https://nickolasfisher.com/blog/How-to-Publish-and-Subscribe-to-Redis-Using-Lettuce">pub/sub&lt;/a> in the sense that multiple consumers can see what is happening to it. There are many other features of streams that are covered in that article, but that&amp;rsquo;s at least how you can think of it at the start.&lt;/p></description></item><item><title>Using Redis as a Distributed Lock with Lettuce</title><link>https://www.nickolasfisher.com/blog/using-redis-as-a-distributed-lock-with-lettuce/</link><pubDate>Sat, 01 May 2021 14:44:31 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/using-redis-as-a-distributed-lock-with-lettuce/</guid><description>&lt;p>The source code for this article &lt;a href="https://github.com/nfisher23/reactive-programming-webflux">can be found on Github&lt;/a>.&lt;/p>
&lt;p>Using Redis as a best effort locking mechanism can be very useful in practice, to prevent two logical threads from clobbering each other. While redis locking is certainly not perfect, and &lt;a href="https://martin.kleppmann.com/2016/02/08/how-to-do-distributed-locking.html">you shouldn&amp;rsquo;t use redis locking if the underlying operation can&amp;rsquo;t be occasionally done twice&lt;/a>, it can still be useful for that &amp;ldquo;best effort, do this once&amp;rdquo; use case.&lt;/p></description></item><item><title>Pre Loading Lua Scripts into Clustered Redis with Lettuce</title><link>https://www.nickolasfisher.com/blog/pre-loading-lua-scripts-into-clustered-redis-with-lettuce/</link><pubDate>Sun, 25 Apr 2021 17:37:07 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/pre-loading-lua-scripts-into-clustered-redis-with-lettuce/</guid><description>&lt;p>The source code for what follows &lt;a href="https://github.com/nfisher23/reactive-programming-webflux">can be found on github&lt;/a>.&lt;/p>
&lt;p>In a previous article, we showed how to &lt;a href="https://nickolasfisher.com/blog/Pre-Loading-a-Lua-Script-into-Redis-With-Lettuce">efficiently execute a lua script in redis using lettuce&lt;/a>. To really scale our caching solution horizontally [and elegantly deal with many scaling headaches], we will also want to make sure we can execute our lua scripts against clustered redis, which as we&amp;rsquo;ll see here is pretty straightforward.&lt;/p></description></item><item><title>Optimistic Locking in Redis with Reactive Lettuce</title><link>https://www.nickolasfisher.com/blog/optimistic-locking-in-redis-with-reactive-lettuce/</link><pubDate>Sat, 24 Apr 2021 21:32:36 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/optimistic-locking-in-redis-with-reactive-lettuce/</guid><description>&lt;p>The source code for what follows &lt;a href="https://github.com/nfisher23/reactive-programming-webflux">can be found on Github&lt;/a>.&lt;/p>
&lt;p>Optimistic Locking in Redis is one of the only reasons to want to use transactions, in my opinion. You can ensure a grouping of atomic operations only occur if a watched key does not change out from underneath you. On the CLI, this might start with:&lt;/p></description></item><item><title>Redis Transactions, Reactive Lettuce: Buyer Beware</title><link>https://www.nickolasfisher.com/blog/redis-transactions-reactive-lettuce-buyer-beware/</link><pubDate>Sat, 24 Apr 2021 20:48:04 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/redis-transactions-reactive-lettuce-buyer-beware/</guid><description>&lt;p>The source code for what follows &lt;a href="https://github.com/nfisher23/reactive-programming-webflux">can be found on Github&lt;/a>.&lt;/p>
&lt;p>Redis Transactions do not operate exactly the way you would expect if you&amp;rsquo;re coming from a relational database management system like MySQL or postrgres. It&amp;rsquo;s mostly useful for optimistic locking, but honestly there are better ways to accomplish many of the things you&amp;rsquo;re probably trying to, like &lt;a href="https://nickolasfisher.com/blog/How-to-Run-a-Lua-Script-against-Redis-using-Lettuce">running a lua script with arguments&lt;/a> [which is guaranteed to be atomic]. The &lt;a href="https://redis.io/topics/transactions">documentation on transactions in redis&lt;/a> describes some of the caveats, the biggest one probably being that it does not support rollbacks, only commits or discards.&lt;/p></description></item><item><title>Subscribing to Redis Channels with Java, Spring Boot, and Lettuce</title><link>https://www.nickolasfisher.com/blog/subscribing-to-redis-channels-with-java-spring-boot-and-lettuce/</link><pubDate>Sat, 24 Apr 2021 20:05:52 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/subscribing-to-redis-channels-with-java-spring-boot-and-lettuce/</guid><description>&lt;p>The source code for what follows &lt;a href="https://github.com/nfisher23/reactive-programming-webflux">can be found on Github&lt;/a>.&lt;/p>
&lt;p>Pub/Sub in redis allows a publisher to send things to subscribers without knowing who is actually subscribed. In a previous post, we covered &lt;a href="https://nickolasfisher.com/blog/How-to-Publish-and-Subscribe-to-Redis-Using-Lettuce">a simple unit test for publishing and subscribing to lettuce&lt;/a>, but if you want to have a subscription initialized on application startup, and respond to events, we&amp;rsquo;ll have to do a bit more, which I&amp;rsquo;ll demonstrate here.&lt;/p></description></item><item><title>Pre Loading a Lua Script into Redis With Lettuce</title><link>https://www.nickolasfisher.com/blog/pre-loading-a-lua-script-into-redis-with-lettuce/</link><pubDate>Sat, 24 Apr 2021 18:05:29 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/pre-loading-a-lua-script-into-redis-with-lettuce/</guid><description>&lt;p>The source code for what follows &lt;a href="https://github.com/nfisher23/reactive-programming-webflux">can be found on Github&lt;/a>.&lt;/p>
&lt;p>In my last article on &lt;a href="https://nickolasfisher.com/blog/How-to-Run-a-Lua-Script-against-Redis-using-Lettuce">running a lua script against redis with lettuce&lt;/a>, we just sent the entire script [that redis will execute atomically] along with the arguments every time. For very small scripts this is unlikely to be a problem, but there is definitely a more efficient way to do this, using &lt;a href="https://redis.io/commands/evalsha">EVALSHA&lt;/a>.&lt;/p></description></item><item><title>How to Publish and Subscribe to Redis Using Lettuce</title><link>https://www.nickolasfisher.com/blog/how-to-publish-and-subscribe-to-redis-using-lettuce/</link><pubDate>Sat, 24 Apr 2021 16:37:18 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/how-to-publish-and-subscribe-to-redis-using-lettuce/</guid><description>&lt;p>The source code for what follows &lt;a href="https://github.com/nfisher23/reactive-programming-webflux">can be found on Github&lt;/a>.&lt;/p>
&lt;p>Subscribing to topics in redis allows for a &lt;em>fanout&lt;/em> behavior, where any number of subscribers can be notified of a message from a publisher.&lt;/p></description></item><item><title>Expiring Individual Elements in a Redis Set</title><link>https://www.nickolasfisher.com/blog/expiring-individual-elements-in-a-redis-set/</link><pubDate>Sun, 18 Apr 2021 20:13:11 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/expiring-individual-elements-in-a-redis-set/</guid><description>&lt;p>The source code for what follows &lt;a href="https://github.com/nfisher23/reactive-programming-webflux">can be found on Github&lt;/a>.&lt;/p>
&lt;p>Redis does not allow you to set the expiration on individual members in a set, it only allows you to set an expiration on the entire set itself. If you want to have a sort of expiry on individual elements in a set, this article shares a workaround to that problem that works well in practice. Because I have already written a lot of &lt;a href="https://nickolasfisher.com/blog/How-to-use-Embedded-Redis-to-Test-a-Lettuce-Client-in-Spring-Boot-Webflux">boilerplate code for testing any redis operation using lettuce&lt;/a>, I&amp;rsquo;m going to be showing you this technique using a reactive lettuce client, however the basic concept should transfer easily to any other client.&lt;/p></description></item><item><title>Lettuce, MSETNX, and Clustered Redis</title><link>https://www.nickolasfisher.com/blog/lettuce-msetnx-and-clustered-redis/</link><pubDate>Sat, 17 Apr 2021 09:35:41 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/lettuce-msetnx-and-clustered-redis/</guid><description>&lt;p>The source code for what follows &lt;a href="https://github.com/nfisher23/reactive-programming-webflux">can be found on Github&lt;/a>.&lt;/p>
&lt;p>&lt;a href="https://redis.io/commands/msetnx">MSETNX&lt;/a> when you&amp;rsquo;re working with a single redis primary node is simple enough to understand: it sets all of the key/value pairs, or none at all. If one of the keys already exists in the cluster, then all of them are rejected.&lt;/p></description></item><item><title>A Guide to Operating on Multiple Sets in Redis with Lettuce</title><link>https://www.nickolasfisher.com/blog/a-guide-to-operating-on-multiple-sets-in-redis-with-lettuce/</link><pubDate>Sat, 17 Apr 2021 08:12:31 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/a-guide-to-operating-on-multiple-sets-in-redis-with-lettuce/</guid><description>&lt;p>In the last article, we showed how to do some of the most common single set operations against redis, this article will focus on operating on multiple sets using a lettuce client against redis. Specifically, we&amp;rsquo;ll focus on subtracting, intersecting, and adding sets. The source code for what follows &lt;a href="https://github.com/nfisher23/reactive-programming-webflux">can be found on Github&lt;/a>.&lt;/p></description></item><item><title>A Guide to Simple Set Operations in Redis with Lettuce</title><link>https://www.nickolasfisher.com/blog/a-guide-to-simple-set-operations-in-redis-with-lettuce/</link><pubDate>Sat, 17 Apr 2021 08:09:37 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/a-guide-to-simple-set-operations-in-redis-with-lettuce/</guid><description>&lt;p>There are, as of this writing, about &lt;a href="https://redis.io/commands/#set">15 distinct operations available to someone wanting to work with sets in redis&lt;/a>. This article seeks to cover some of the more basic ones using a reactive lettuce client, and &lt;a href="https://nickolasfisher.com/blog/A-Guide-to-Operating-on-Multiple-Sets-in-Redis-with-Lettuce">a follow up article&lt;/a> will seek to deal with explaining some of the more common operations against multiple sets, rather than a single set in this case.&lt;/p></description></item><item><title>Working with Redis Hashes using Lettuce And Webflux</title><link>https://www.nickolasfisher.com/blog/working-with-redis-hashes-using-lettuce-and-webflux/</link><pubDate>Sun, 11 Apr 2021 22:26:29 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/working-with-redis-hashes-using-lettuce-and-webflux/</guid><description>&lt;p>There are about &lt;a href="https://redis.io/commands/#hash">15 or so commands you can execute against redis for hash types&lt;/a> as of this writing. This article will demonstrate some of the more common operations you&amp;rsquo;re likely to need when using lettuce as your client.&lt;/p></description></item><item><title>Working with Lists in Redis using Lettuce and Webflux</title><link>https://www.nickolasfisher.com/blog/working-with-lists-in-redis-using-lettuce-and-webflux/</link><pubDate>Sun, 11 Apr 2021 21:14:08 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/working-with-lists-in-redis-using-lettuce-and-webflux/</guid><description>&lt;p>As of this writing, there are a solid &lt;a href="https://redis.io/commands/#list">twenty or so commands you can execute against redis for the list data type&lt;/a>. This article will be walking through some of the more common operations you are likely to need when interacting with redis and lists using lettuce, and &lt;a href="https://github.com/nfisher23/reactive-programming-webflux">the source code can be found on Github&lt;/a>.&lt;/p></description></item><item><title>Working with String Types in Redis using Lettuce and Webflux</title><link>https://www.nickolasfisher.com/blog/working-with-string-types-in-redis-using-lettuce-and-webflux/</link><pubDate>Sun, 11 Apr 2021 19:01:16 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/working-with-string-types-in-redis-using-lettuce-and-webflux/</guid><description>&lt;p>The source code for what follows &lt;a href="https://github.com/nfisher23/reactive-programming-webflux">can be found on Github&lt;/a>.&lt;/p>
&lt;p>There are, as of this writing, &lt;a href="https://redis.io/commands/#string">27 different string operations available in the redis API&lt;/a>. Lettuce appears to have interfaces that directly support all of them.&lt;/p></description></item><item><title>Using Hashtags in Clustered Redis with Lettuce and Webflux</title><link>https://www.nickolasfisher.com/blog/using-hashtags-in-clustered-redis-with-lettuce-and-webflux/</link><pubDate>Sun, 11 Apr 2021 16:12:09 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/using-hashtags-in-clustered-redis-with-lettuce-and-webflux/</guid><description>&lt;p>In clustered redis, any non hash tagged key can be sent unpredictably [well, actually predictably, if you know the formula] to any given primary node in the cluster. The very basic way it works is:&lt;/p></description></item><item><title>Breaking down Lettuce MSET Commands in Clustered Redis</title><link>https://www.nickolasfisher.com/blog/breaking-down-lettuce-mset-commands-in-clustered-redis/</link><pubDate>Sat, 10 Apr 2021 23:26:07 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/breaking-down-lettuce-mset-commands-in-clustered-redis/</guid><description>&lt;p>To follow along with this post, it would be best if you have already &lt;a href="https://nickolasfisher.com/blog/Bootstrap-a-Local-Sharded-Redis-Cluster-in-Five-Minutes">set up your local redis cluster&lt;/a> and know how to &lt;a href="https://nickolasfisher.com/blog/Configuring-Lettuce-to-work-with-Clustered-Redis">connect to a redis cluster and interact with it via Lettuce&lt;/a>. And the source code for what follows &lt;a href="https://github.com/nfisher23/reactive-programming-webflux">can be found on Github&lt;/a>.&lt;/p></description></item><item><title>Configuring Lettuce/Webflux to work with Clustered Redis</title><link>https://www.nickolasfisher.com/blog/configuring-lettucewebflux-to-work-with-clustered-redis/</link><pubDate>Sat, 10 Apr 2021 22:27:54 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/configuring-lettucewebflux-to-work-with-clustered-redis/</guid><description>&lt;p>Lettuce has some pretty nice out of the box support for working with clustered redis. This combination&amp;ndash;a reactive client and application along with clustered redis&amp;ndash;is about as scalable, performant, and resilient as things can get in distributed systems [though there are other tradeoffs which are not the subject of this post].&lt;/p></description></item><item><title>How to Configure Lettuce to use Redis Read Replicas in Spring Boot Webflux</title><link>https://www.nickolasfisher.com/blog/how-to-configure-lettuce-to-use-redis-read-replicas-in-spring-boot-webflux/</link><pubDate>Sun, 28 Mar 2021 19:22:27 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/how-to-configure-lettuce-to-use-redis-read-replicas-in-spring-boot-webflux/</guid><description>&lt;p>The source code for this post &lt;a href="https://github.com/nfisher23/reactive-programming-webflux">can be found on Github&lt;/a>.&lt;/p>
&lt;p>Lettuce supports reading from redis replicas, but with the caveat that it doesn&amp;rsquo;t [out of the box] provide you with the fine-grained control over &lt;em>when&lt;/em> to read from the replicas that you&amp;rsquo;re likely to want.&lt;/p></description></item><item><title>Atomic Incrementing in DynamoDB with the Java AWS SDK 2.0</title><link>https://www.nickolasfisher.com/blog/atomic-incrementing-in-dynamodb-with-the-java-aws-sdk-20/</link><pubDate>Sun, 28 Mar 2021 02:00:30 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/atomic-incrementing-in-dynamodb-with-the-java-aws-sdk-20/</guid><description>&lt;p>The source code for this post &lt;a href="https://github.com/nfisher23/webflux-and-dynamo">can be found on Github&lt;/a>.&lt;/p>
&lt;p>When you update an item in DynamoDB, you can optionally update the item in place. That is, instead of &lt;strong>read-increment-write&lt;/strong>, you can just issue a command that says &lt;strong>increment this value in place&lt;/strong>. This behavior is detailed in the &lt;a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/WorkingWithItems.html#WorkingWithItems.AtomicCounters">AWS documentation&lt;/a>, and I will provide an example for how to do so with the Java AWS SDK 2.0, which has full reactive support.&lt;/p></description></item><item><title>How to use Embedded Redis to Test a Lettuce Client in Spring Boot Webflux</title><link>https://www.nickolasfisher.com/blog/how-to-use-embedded-redis-to-test-a-lettuce-client-in-spring-boot-webflux/</link><pubDate>Sat, 27 Mar 2021 21:22:32 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/how-to-use-embedded-redis-to-test-a-lettuce-client-in-spring-boot-webflux/</guid><description>&lt;p>The source code for this article &lt;a href="https://github.com/nfisher23/reactive-programming-webflux/tree/master/reactive-redis">can be found on Github&lt;/a>.&lt;/p>
&lt;p>&lt;a href="https://github.com/lettuce-io/lettuce-core">Lettuce&lt;/a> is a redis client with reactive support. There is a super handy &lt;a href="https://github.com/kstyrc/embedded-redis">embedded redis for java project&lt;/a> out there, and this kind of integration testing inside your service is worth its weight in gold, in my humble opinion. This post will detail how to merge both of these worlds together, and set up redis integration tests when you&amp;rsquo;re using a lettuce client.&lt;/p></description></item><item><title>Making Sense of Mono Error Handling in Spring Boot Webflux/Project Reactor</title><link>https://www.nickolasfisher.com/blog/making-sense-of-mono-error-handling-in-spring-boot-webfluxproject-reactor/</link><pubDate>Sun, 21 Mar 2021 18:27:16 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/making-sense-of-mono-error-handling-in-spring-boot-webfluxproject-reactor/</guid><description>&lt;p>A Reactor &lt;a href="https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html">Mono&lt;/a> comes with a lot of methods that allow you to do things when errors occur:&lt;/p></description></item><item><title>How to Zip Reactor Mono Objects that Return Void</title><link>https://www.nickolasfisher.com/blog/how-to-zip-reactor-mono-objects-that-return-void/</link><pubDate>Sat, 20 Mar 2021 19:14:57 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/how-to-zip-reactor-mono-objects-that-return-void/</guid><description>&lt;p>Leveraging &lt;a href="https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#zip-java.lang.Iterable-java.util.function.Function-">Mono.zip&lt;/a> appropriately will [with the right configuration] lead to a high amount of performance and concurrency. There is one caveat to its usage though:&lt;/p></description></item><item><title>How to Unit Test that a Reactor Mono was Actually Subscribed to</title><link>https://www.nickolasfisher.com/blog/how-to-unit-test-that-a-reactor-mono-was-actually-subscribed-to/</link><pubDate>Sat, 13 Mar 2021 22:35:48 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/how-to-unit-test-that-a-reactor-mono-was-actually-subscribed-to/</guid><description>&lt;p>There&amp;rsquo;s a very insidious bug that can happen when you&amp;rsquo;re writing reactive code, and it basically comes down to whether an underlying &lt;strong>Mono&lt;/strong> in a chain of operations was actually &lt;strong>subscribed to&lt;/strong>, rather than merely observing a method invocation. I&amp;rsquo;ll demonstrate with an example.&lt;/p></description></item><item><title>How to use Caffeine Caches Effectively in Spring Boot Webflux</title><link>https://www.nickolasfisher.com/blog/how-to-use-caffeine-caches-effectively-in-spring-boot-webflux/</link><pubDate>Sat, 13 Mar 2021 21:36:45 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/how-to-use-caffeine-caches-effectively-in-spring-boot-webflux/</guid><description>&lt;p>The source code for this post &lt;a href="https://github.com/nfisher23/reactive-programming-webflux/tree/master/api-calls-and-resilience">can be found on Github&lt;/a>.&lt;/p>
&lt;p>When someone talks about a caffeine cache, they are talking about &lt;a href="https://github.com/ben-manes/caffeine">Ben Manes caching library&lt;/a>, which is a high performance, in memory cache written for java. If you&amp;rsquo;re using reactive streams, you can&amp;rsquo;t reliably use a LoadingCache because it&amp;rsquo;s blocking by default. Thankfully, tapping into a couple of basic features of reactive streams and caffeine can get us there.&lt;/p></description></item><item><title>DynamoDB Transactions and Java</title><link>https://www.nickolasfisher.com/blog/dynamodb-transactions-and-java/</link><pubDate>Sat, 28 Nov 2020 20:57:47 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/dynamodb-transactions-and-java/</guid><description>&lt;p>DynamoDB transactions can be used for &lt;em>atomic&lt;/em> updates. Atomic updates in DynamoDB without transactions can be difficult to implement&amp;ndash;you&amp;rsquo;ll often have to manage the current state of the update yourself in something like a saga, and have business logic specific rollback procedures. Further, without a transaction manager, the data will be in an inconsistent state at some point in time while the saga is ongoing. An alternative to that is a Two Phase Commit, but that&amp;rsquo;s also expensive both from the standpoint of developers making it work as well as performance [2PC typically call for a lock being held during the operation, and even then there&amp;rsquo;s a possibility that the operation ends up in an inconsistent state at some point].&lt;/p></description></item><item><title>Publishing to SNS in Java with the AWS SDK 2.0</title><link>https://www.nickolasfisher.com/blog/publishing-to-sns-in-java-with-the-aws-sdk-20/</link><pubDate>Sat, 28 Nov 2020 20:16:05 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/publishing-to-sns-in-java-with-the-aws-sdk-20/</guid><description>&lt;p>SNS is a medium to broadcast messages to multiple subscribers. A common use case is to have multiple SQS queues subscribing to the same SNS topic&amp;ndash;this way, the &lt;em>publishing&lt;/em> application only needs to focus on events that are specific to its business use case, and &lt;em>subscribing&lt;/em> applications can configure an SQS queue and consume the event independently of other services. This helps organizations scale and significantly reduces the need to communicate between teams&amp;ndash;each team can focus on its contract and business use case.&lt;/p></description></item><item><title>Query a DynamoDB Global Secondary Index in Java</title><link>https://www.nickolasfisher.com/blog/query-a-dynamodb-global-secondary-index-in-java/</link><pubDate>Sun, 01 Nov 2020 22:40:46 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/query-a-dynamodb-global-secondary-index-in-java/</guid><description>&lt;p>A &lt;a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/GSI.html">DynamoDB Global Secondary Index&lt;/a> is an eventually consistent way to efficiently query for data that is not normally found without a table scan. It has &lt;a href="https://nickolasfisher.com/blog/Query-a-DynamoDB-Local-Secondary-Index-with-Java">some similarities to Local Secondary Indexes, which we covered in the last post&lt;/a>, but are more flexible than them because they can be created, updated, and deleted after the base table has been created, which is not true of Local Secondary Indexes.&lt;/p></description></item><item><title>Querying DynamoDB in Java with the AWS SDK 2.0</title><link>https://www.nickolasfisher.com/blog/querying-dynamodb-in-java-with-the-aws-sdk-20/</link><pubDate>Sun, 18 Oct 2020 13:38:22 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/querying-dynamodb-in-java-with-the-aws-sdk-20/</guid><description>&lt;p>Queries in DynamoDB allow you to find data. This is only an option to you if your table has a partition and sort key.&lt;/p></description></item><item><title>Optimistic Locking in Java and DynamoDB</title><link>https://www.nickolasfisher.com/blog/optimistic-locking-in-java-and-dynamodb/</link><pubDate>Sun, 11 Oct 2020 20:19:42 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/optimistic-locking-in-java-and-dynamodb/</guid><description>&lt;p>I&amp;rsquo;ve previously written about using &lt;a href="https://nickolasfisher.com/blog/How-to-use-Optimistic-Locking-in-DynamoDB-via-the-AWS-CLI">conditional expressions to achieve optimistic locking in DynamoDB&lt;/a>, that example used the command line. I will now demonstrate how to do the same thing in java code, leveraging the AWS SDK 2.0 [with full reactive support].&lt;/p></description></item><item><title>Configuring an In Memory DynamoDB instance with Java for Integration Testing</title><link>https://www.nickolasfisher.com/blog/configuring-an-in-memory-dynamodb-instance-with-java-for-integration-testing/</link><pubDate>Sat, 10 Oct 2020 00:02:25 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/configuring-an-in-memory-dynamodb-instance-with-java-for-integration-testing/</guid><description>&lt;p>While using the AWS SDK 2.0, which has support for reactive programming, it became clear that there was no straightforward support for an embedded dynamo db instance for testing. I spent a fair amount of time figuring it out by starting with &lt;a href="https://github.com/aws/aws-sdk-java-v2/blob/93269d4c0416d0f72e086774265847d6af0d54ec/services-custom/dynamodb-enhanced/src/test/java/software/amazon/awssdk/extensions/dynamodb/mappingclient/functionaltests/LocalDynamoDb.java">this github link&lt;/a> and ultimately adapting it to my own needs.&lt;/p></description></item><item><title>In-Memory Caching in Sprint Boot Webflux/Project Reactor</title><link>https://www.nickolasfisher.com/blog/inmemory-caching-in-sprint-boot-webfluxproject-reactor/</link><pubDate>Sat, 03 Oct 2020 22:41:59 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/inmemory-caching-in-sprint-boot-webfluxproject-reactor/</guid><description>&lt;p>Sample code for this article &lt;a href="https://github.com/nfisher23/reactive-programming-webflux/tree/master/api-calls-and-resilience">can be found on Github&lt;/a>.&lt;/p>
&lt;p>In memory caching can significantly improve performance in a microservices environment, usually because of the tail latency involved in calling downstream services. Caching can also &lt;em>help&lt;/em> with resilience, though the extent to which that matters will depend on how you&amp;rsquo;re actually leveraging that caching. There are two flavors of caching that you&amp;rsquo;re like to want to use, the first is using the Mono as a hot source [which is demonstrated here], and the second would be when you want to &lt;a href="https://nickolasfisher.com/blog/How-to-use-Caffeine-Caches-Effectively-in-Spring-Boot-Webflux">selectively cache individual key/value pairs&lt;/a>.&lt;/p></description></item><item><title>How to Automatically Retry on a Webclient Timeout in Spring Boot Webflux</title><link>https://www.nickolasfisher.com/blog/how-to-automatically-retry-on-a-webclient-timeout-in-spring-boot-webflux/</link><pubDate>Sat, 03 Oct 2020 16:09:51 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/how-to-automatically-retry-on-a-webclient-timeout-in-spring-boot-webflux/</guid><description>&lt;p>The source code for this post &lt;a href="https://github.com/nfisher23/reactive-programming-webflux/tree/master/api-calls-and-resilience">can be found on Github&lt;/a>.&lt;/p>
&lt;p>Intermittent network flapping, or any one downstream host of several clones responding slowly, is a not uncommon thing that happens in a microservices architecture, especially if you&amp;rsquo;re using java applications, where the JIT compiler can often make initial requests slower than they ought to be.&lt;/p></description></item><item><title>How to Have a Fallback on Errors Calling Downstream Services in Spring Boot Webflux</title><link>https://www.nickolasfisher.com/blog/how-to-have-a-fallback-on-errors-calling-downstream-services-in-spring-boot-webflux/</link><pubDate>Sat, 26 Sep 2020 16:04:14 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/how-to-have-a-fallback-on-errors-calling-downstream-services-in-spring-boot-webflux/</guid><description>&lt;p>The source code for this post is &lt;a href="https://github.com/nfisher23/reactive-programming-webflux/tree/master/api-calls-and-resilience">available on Github&lt;/a>.&lt;/p>
&lt;p>Things break. When you start adding more and more microservices, things will break a lot more. This post is about how to provide a degraded experience to your users when things break.&lt;/p></description></item><item><title>How to Make Parallel API calls in Spring Boot Webflux</title><link>https://www.nickolasfisher.com/blog/how-to-make-parallel-api-calls-in-spring-boot-webflux/</link><pubDate>Sat, 19 Sep 2020 16:03:01 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/how-to-make-parallel-api-calls-in-spring-boot-webflux/</guid><description>&lt;p>The source code for this post &lt;a href="https://github.com/nfisher23/reactive-programming-webflux/tree/master/api-calls-and-resilience">can be found on Github&lt;/a>.&lt;/p>
&lt;p>Following up on the last post, which was making sequential calls to downstream services, sometimes you are in a position where you can make calls in parallel and merge the results. In this case, we want to use &lt;strong>zip&lt;/strong>.&lt;/p></description></item><item><title>How to Make Sequential API Calls and Merge the Results In Spring Boot Webflux</title><link>https://www.nickolasfisher.com/blog/how-to-make-sequential-api-calls-and-merge-the-results-in-spring-boot-webflux/</link><pubDate>Sat, 19 Sep 2020 16:01:14 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/how-to-make-sequential-api-calls-and-merge-the-results-in-spring-boot-webflux/</guid><description>&lt;p>The source code for this article &lt;a href="https://github.com/nfisher23/reactive-programming-webflux/tree/master/api-calls-and-resilience">can be found on Github&lt;/a>.&lt;/p>
&lt;p>In reactive programming, it&amp;rsquo;s a game of callbacks. In the vast majority of cases, you will want to defer all of your I/O operations to the library you are using [typically, netty, under the hood], and stay focused on setting up the flow so that the right functions are invoked in the right order. Sometimes you will want to make calls in parallel, sometimes you need data from a previous call or operation available in order to invoke that right function.&lt;/p></description></item><item><title>How to Send SQS Messages to Localstack with the AWS Java SDK 2.0</title><link>https://www.nickolasfisher.com/blog/how-to-send-sqs-messages-to-localstack-with-the-aws-java-sdk-20/</link><pubDate>Sat, 12 Sep 2020 20:54:13 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/how-to-send-sqs-messages-to-localstack-with-the-aws-java-sdk-20/</guid><description>&lt;p>The source code for this post &lt;a href="https://github.com/nfisher23/reactive-programming-webflux/blob/master/README.md">can be found on Github&lt;/a>.&lt;/p>
&lt;p>The completely rewritten &lt;a href="https://docs.aws.amazon.com/sdk-for-java/v2/developer-guide/welcome.html">AWS SDK for Java 2.0&lt;/a> comes with full reactive programming support all the way down. I wanted a way to test it out without spending any more or being at risk of spending too much money, so I used &lt;a href="https://github.com/localstack/localstack">localstack&lt;/a>. This post is largely walking you through what I came up with.&lt;/p></description></item><item><title>Continuous Subscriptions in Reactor</title><link>https://www.nickolasfisher.com/blog/continuous-subscriptions-in-reactor/</link><pubDate>Sat, 12 Sep 2020 17:14:10 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/continuous-subscriptions-in-reactor/</guid><description>&lt;p>There are use cases for wanting to immediately subscribe to a &lt;strong>Flux&lt;/strong> or a &lt;strong>Mono&lt;/strong> immediately after the subscription has completed. The most obvious use case is if your application needs to continuously poll for values.&lt;/p></description></item><item><title>A Guide to Automatic Retries in Reactor</title><link>https://www.nickolasfisher.com/blog/a-guide-to-automatic-retries-in-reactor/</link><pubDate>Sun, 16 Aug 2020 16:22:09 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/a-guide-to-automatic-retries-in-reactor/</guid><description>&lt;p>The source code for this post &lt;a href="https://github.com/nfisher23/reactive-programming-webflux">is available on GitHub&lt;/a>.&lt;/p>
&lt;p>One of the nice things about a reactive programming model is there is a significantly lower risk of doomsday when things start getting latent all at once. You don&amp;rsquo;t have threads upstream blocking and waiting for a response, therefore they won&amp;rsquo;t all seize up and stop serving requests [or they won&amp;rsquo;t short circuit if you&amp;rsquo;re using a resiliency library like hystrix].&lt;/p></description></item><item><title>How to use Mock Server to End to End Test Any WebClient Calls in Spring Boot Webflux</title><link>https://www.nickolasfisher.com/blog/how-to-use-mock-server-to-end-to-end-test-any-webclient-calls-in-spring-boot-webflux/</link><pubDate>Sat, 08 Aug 2020 22:44:14 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/how-to-use-mock-server-to-end-to-end-test-any-webclient-calls-in-spring-boot-webflux/</guid><description>&lt;p>The source code for this post &lt;a href="https://github.com/nfisher23/reactive-programming-webflux/tree/master/mocking-and-unit-testing">can be found on Github&lt;/a>.&lt;/p>
&lt;p>&lt;a href="https://www.mock-server.com">Mock Server&lt;/a> is a really simple and straightforward way to actually let your application make downstream calls and intercept them. That level of abstraction is really nice to have, and gives at least me much more confidence that my code is actually working in a microservices environment.&lt;/p></description></item><item><title>How to Mock Dependencies and Unit Test in Spring Boot Webflux</title><link>https://www.nickolasfisher.com/blog/how-to-mock-dependencies-and-unit-test-in-spring-boot-webflux/</link><pubDate>Sat, 08 Aug 2020 22:14:53 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/how-to-mock-dependencies-and-unit-test-in-spring-boot-webflux/</guid><description>&lt;p>The source code for this post can be found &lt;a href="https://github.com/nfisher23/reactive-programming-webflux/tree/master/mocking-and-unit-testing">on Github&lt;/a>.&lt;/p>
&lt;p>The most straightforward way to write unit tests in spring boot webflux is to leverage &lt;a href="https://projectreactor.io/docs/test/release/api/reactor/test/StepVerifier.html">project reactor&amp;rsquo;s StepVerifier&lt;/a>. StepVerifier allows you to pull each item in a &lt;strong>Flux&lt;/strong> or the only potential item in a &lt;strong>Mono&lt;/strong> and make assertions about each item as it&amp;rsquo;s pulled through the chain, or make assertions about certain errors that should be thrown in the process. I&amp;rsquo;m going to quickly walk you through an example integrating mockito with it and webflux.&lt;/p></description></item><item><title>OpenAPI and Spring Boot Webflux: A Working Introduction</title><link>https://www.nickolasfisher.com/blog/openapi-and-spring-boot-webflux-a-working-introduction/</link><pubDate>Sat, 01 Aug 2020 23:59:33 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/openapi-and-spring-boot-webflux-a-working-introduction/</guid><description>&lt;p>The &lt;a href="http://spec.openapis.org/oas/v3.0.3">OpenAPI Specification&lt;/a> is an &amp;ldquo;industry standard&amp;rdquo; way of declaring the API interface. As REST APIs using JSON have dominated the way we move data around in most organizations and on the internet, particularly in service oriented architectures, and as documentation at almost every company has been written once, read a couple of times, then lost to the wind, smart people have figured out that they can put the documentation for their services living with the code&amp;ndash;better yet, displayed while the app is running.&lt;/p></description></item><item><title>How to Forward Request Headers to Downstream Services in Spring Boot Webflux</title><link>https://www.nickolasfisher.com/blog/how-to-forward-request-headers-to-downstream-services-in-spring-boot-webflux/</link><pubDate>Sun, 19 Jul 2020 19:39:10 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/how-to-forward-request-headers-to-downstream-services-in-spring-boot-webflux/</guid><description>&lt;p>The source code for this post &lt;a href="https://github.com/nfisher23/reactive-programming-webflux/tree/master/context-api">can be found on Github&lt;/a>.&lt;/p>
&lt;p>When you make the switch to a reactive codebase, &lt;a href="https://docs.oracle.com/javase/7/docs/api/java/lang/ThreadLocal.html">ThreadLocal&lt;/a> becomes effectively off limits to you, because you aren&amp;rsquo;t guaranteed that the thread that starts the request processing remains the same, even if it&amp;rsquo;s the same HTTP request. This has caused pain in many places: the original implementation of spring security, for example, relied very heavily on ThreadLocal variables to store state that happened in the start of the request, and then reuse the information stored in those variables later on to make access control decisions. &lt;a href="https://netflixtechblog.com/zuul-2-the-netflix-journey-to-asynchronous-non-blocking-systems-45947377fb5c">Neflix spoke of their pain migrating to a reactive stack&lt;/a>, when they had relied so heavily on ThreadLocal variables in most of their shared libraries.&lt;/p></description></item><item><title>How to Return a Response Entity in Spring Boot Webflux</title><link>https://www.nickolasfisher.com/blog/how-to-return-a-response-entity-in-spring-boot-webflux/</link><pubDate>Sun, 19 Jul 2020 16:07:33 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/how-to-return-a-response-entity-in-spring-boot-webflux/</guid><description>&lt;p>In my last post on &lt;a href="https://nickolasfisher.com/blog/DynamoDB-and-Spring-Boot-Webflux-A-Working-Introduction">getting started with spring boot webflux and AWS DynamoDB&lt;/a>, I mentioned that it wasn&amp;rsquo;t immediately obvious to find a way to customize the response code in a spring boot &lt;strong>RestController&lt;/strong>, so I opted to use handlers instead.&lt;/p></description></item><item><title>The Difference Between a Reactive Non-Blocking Model and Classic Asynchronous Code</title><link>https://www.nickolasfisher.com/blog/the-difference-between-a-reactive-nonblocking-model-and-classic-asynchronous-code/</link><pubDate>Sat, 06 Jul 2019 15:10:01 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/the-difference-between-a-reactive-nonblocking-model-and-classic-asynchronous-code/</guid><description>&lt;p>Reactive Programming is a very different way of thinking about doing work in a microservices environment. Anyone who has worked with a GUI, dating back to even to windows forms, is familiar with the event based model, but what does that mean when there is unpredictable latency involved? How does handing off to a thread to make a remote call differ from this new &amp;ldquo;reactive web&amp;rdquo;?&lt;/p></description></item><item><title>How to Configure Reactive Netty in Spring Boot, in Depth</title><link>https://www.nickolasfisher.com/blog/how-to-configure-reactive-netty-in-spring-boot-in-depth/</link><pubDate>Sat, 06 Jul 2019 14:30:43 +0000</pubDate><guid>https://www.nickolasfisher.com/blog/how-to-configure-reactive-netty-in-spring-boot-in-depth/</guid><description>&lt;p>&lt;a href="https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html">Spring Boot&amp;rsquo;s WebFlux programming model&lt;/a> is pretty neat, but there isn&amp;rsquo;t a lot by way of explaining how to best leverage it to get the results you need. I wrote this blog post after tinkering with the configuration of Reactor Netty on Spring Boot.&lt;/p></description></item></channel></rss>